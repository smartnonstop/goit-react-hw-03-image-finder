{"version":3,"sources":["services/imagesApi.js","components/SearchForm.js","components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","components/Loader.js","components/Modal.js","components/App.js","index.js"],"names":["objExport","fetchImages","query","page","fetch","then","res","json","data","hits","SearchForm","state","inputValue","inputHandler","e","setState","target","value","formSubmit","preventDefault","props","onSearch","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Searchbar","ImageGalleryItem","image","modalImg","onClick","largeImageURL","src","webformatURL","alt","ImageGallery","images","map","id","Button","console","log","nextProps","window","scrollTo","top","document","documentElement","scrollHeight","behavior","click","App","color","height","width","React","Modal","handleEscape","code","onClose","handleClickClose","addEventListener","removeEventListener","searchQuery","isLoading","error","handleSearchForm","imagesApi","prevState","catch","finally","setModalImg","img","modalClose","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a1661932.chunk.js","sourcesContent":["const fetchImages = (query, page = 1) => {\r\n  return fetch('https://pixabay.com/api/?q='+query+'&page='+page+'&key=19918128-a5c1391d4f73220e8c7f95811&image_type=photo&orientation=horizontal&per_page=12')\r\n  .then(res => res.json())\r\n  .then(data => data.hits);\r\n\r\n}\r\n\r\nconst objExport = {\r\n  fetchImages\r\n};\r\n\r\nexport default objExport;","import React, { Component } from 'react';\r\n\r\nexport default class SearchForm extends Component {\r\n\r\n  state = {\r\n    inputValue: ''\r\n  };\r\n\r\n  inputHandler = e => {\r\n    this.setState({inputValue: e.target.value});\r\n  }\r\n\r\n  formSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSearch(this.state.inputValue);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"SearchForm\" onSubmit={this.formSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={this.state.inputValue}\r\n          onChange={this.inputHandler}\r\n        />\r\n      </form>\r\n    );    \r\n  }\r\n}","import React from 'react';\r\nimport SearchForm from './SearchForm';\r\n\r\nexport default function Searchbar({ onSearch }) {\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <SearchForm onSearch={onSearch} />\r\n    </header>\r\n  ); \r\n  \r\n}","import React from 'react';\r\n\r\nexport default function ImageGalleryItem({ image, modalImg }) {\r\n\r\n\r\n  return (\r\n    <li onClick={() => modalImg(image.largeImageURL)} className=\"ImageGalleryItem\">\r\n      <img src={image.webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n}","import React from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\n\r\nexport default function ImageGallery( {images, modalImg} ) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(image => <ImageGalleryItem modalImg={modalImg} key={image.id} image={image} />)}\r\n    </ul>\r\n  );\r\n}","import React, { Component } from 'react';\r\n\r\nexport default class Button extends Component {\r\n  \r\n  \r\n\r\n  componentDidMount() {\r\n    console.log(\"Button didmount, page: \"+this.props.page);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    if (nextProps.page === 2) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    console.log(\"Button didupdate, page: \"+this.props.page);\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <button className=\"Button\" onClick={this.props.click}>Load more</button>\r\n    );\r\n  }\r\n\r\n}","import React from 'react';\r\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"centerdLoader\">\r\n\t      <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\n\r\n\r\nexport default class Modal extends Component {\r\n  \r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscape);\r\n    window.addEventListener('click', this.handleClickClose);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscape);\r\n    window.removeEventListener('click', this.handleClickClose);\r\n  }\r\n\r\n  handleEscape = (e) => {\r\n    if(e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  handleClickClose = (e) => {\r\n    console.log(e);\r\n    if(e.target.className===\"Overlay\") {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\">\r\n        <div className=\"Modal\">\r\n          <img src={this.props.modalImg} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import React, { Component } from 'react';\r\nimport imagesApi from './../services/imagesApi';\r\nimport Searchbar from './Searchbar';\r\nimport ImageGallery from './ImageGallery';\r\nimport Button from './Button';\r\nimport Loader from './Loader';\r\nimport Modal from './Modal';\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    searchQuery: '',\r\n    images: [],\r\n    page: 1,\r\n    modalImg: '',\r\n    isLoading: false,\r\n    error: null\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  handleSearchForm = (query) => {\r\n    this.setState({ searchQuery: query, images: [], page: 1});\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, page } = this.state;\r\n    this.setState({ isLoading:true });\r\n\r\n    imagesApi.fetchImages(searchQuery, page)\r\n    .then(images => {\r\n      this.setState(prevState => ({\r\n        images: [...prevState.images, ...images],\r\n        page: prevState.page + 1\r\n      }));\r\n    })\r\n    .catch(error => this.setState({error}))\r\n    .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  setModalImg = (img) => {\r\n    this.setState({ modalImg: img});\r\n  }\r\n\r\n  modalClose = () => {\r\n    this.setState({ modalImg: ''});\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const { page, images, modalImg, error, isLoading } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"App\">\r\n          <Searchbar onSearch={this.handleSearchForm} />\r\n        </div>\r\n        <ImageGallery images={this.state.images} modalImg={this.setModalImg} />\r\n\r\n        { modalImg!=='' && <Modal modalImg={modalImg} onClose={this.modalClose} />}\r\n        { isLoading && <Loader />}\r\n        { error && <p>Something go bad, please reload page...</p>}\r\n        { images.length > 0 && <Button page={page} click={this.fetchImages} />}\r\n      </>\r\n      \r\n    );\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport App from './components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}